<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Eileen Cotter Howell</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="Kaori Price" content="Eileen Cotter Howell Portfolio Site">

  <link rel="stylesheet" href="css/style.css">
  <!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>

<body>
	<header class="global__header">
		<div class="logo">
			<h1 class="logo__name"><a href="index.html">Eileen Cotter Howell</a></h1>
			<h2 class="logo__tag">Visual Artist</h2>
		</div>

		<nav class="navigation">
			<ul>
				<li class="navigation__item">
					<a href="index.html">
						<img class="navigation__item__icon" src="icon/nav/portfolio.svg"/>
						<h3 class="navigation__item__name">Portfolio</h3>
					</a>
				</li>	
				<li class="navigation__item--selected">
					<a href="resume.html">
						<img class="navigation__item__icon--selected" src="icon/nav/resume_selected.svg"/>
						<h3 class="navigation__item__name--selected">Resume</h3>
					</a>
				</li>
				<li class="navigation__item">
					<a href="statement.html">
						<img class="navigation__item__icon" src="icon/nav/statement.svg"/>
						<h3 class="navigation__item__name">Statement</h3>
					</a>
				</li>
				<li class="navigation__item">
					<a href="news.html">
						<img class="navigation__item__icon" src="icon/nav/news.svg"/>
						<h3 class="navigation__item__name">News</h3>
					</a>
				</li>
				<li class="navigation__item">
					<a href="contact.html">
						<img class="navigation__item__icon" src="icon/nav/contact.svg"/>
						<h3 class="navigation__item__name">Contact</h3>
					</a>
				</li>
			</ul>
		</nav>
		<div class="clear"></div>
	</header>

	<main class="resume">
  		<aside class="resume__navigation">
  			<ul>
  				<li class="resume__navigation__item"><a href="#exhibitions">Exhibitions</a></li>
  				<li class="resume__navigation__item"><a href="#selectedcollections">Selected Collections</a></li>
  				<li class="resume__navigation__item"><a href="">Gallery Representation</a></li>
  				<li class="resume__navigation__item"><a href="">Publications and Articles</a></li>
  				<li class="resume__navigation__item"><a href="">Teaching</a></li>
  			</ul>
  		</aside>

		<a name="exhibitions"></a>
  		<header class="resume__exhibitions__header">
			<h1 class="resume__exhibitions__header__title">Exhibitions</h1>
			<p class="resume__exhibitions__header__description">Maecenas eget ipsum volutpat, varius nunc quis, facilisis odio. Aliquam faucibus, odio eget vestibulum volutpat, diam velit venenatis quam, et cursus magna nibh fringilla arcu. Phasellus bibendum quis metus in viverra. Aliquam pellentesque leo eu elit dapibus consectetur.</p>
		</header>
		
		<section class="resume__exhibitions" id="exhibition__container">
			
		</section>

		<a name="selectedcollections"></a>
	</main>

	<script id="exhibitionTemplate" type="text/x-handlebars-template">
		<h2 class="resume__exhibitions__year">{{year}}</h2>
        {{#each exhibitions}}
			<section class="resume__exhibitions__item">
				<p class="resume__exhibitions__item__type">{{type}}</p>
				<p class="resume__exhibitions__item__details">{{details}}</p>
				<p class="resume__exhibitions__item__location">{{location}}</p>
			</section>
        {{/each}}
    </script>

	<script src="https://code.jquery.com/jquery-2.1.0.min.js"></script>
	<script src="lib/handlebars-v1.3.0.js"></script>
	<script src="js/modernizr-latest.js"></script>
	<script src="lib/lodash.min.js"></script>
	<script type="text/javascript">
	$(function () {
		var exhibitionTemplateHtml = $("#exhibitionTemplate").html();
		var exhibitionTemplateFunction = Handlebars.compile(exhibitionTemplateHtml);


		$.get("data/resume.json", function (resumeData) {

			var exhibitions = resumeData.exhibitions;

			var groupedByYear = _.groupBy(exhibitions, function(exhibition) { return exhibition.year; });

			//var sortedByYear = _.sortBy(groupedByYear, function (group) { return Number(group); });


			_.forEachRight(groupedByYear, function (exhibitions, year) {
				var outputHtml = exhibitionTemplateFunction({exhibitions: exhibitions, year: year});
				$("#exhibition__container").append(outputHtml);
			});
		});

		$(".resume__navigation__item").click(function (event) {
			$(".resume__navigation__item").removeClass("selected");
			$(event.currentTarget).addClass("selected");
		});
	});


		
	</script>
</body>

</html>